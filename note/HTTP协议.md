
# 概念

Hyper Text Transfer Protocol 超文本传输协议

# 传输协议

定义了客户端服务器通信时，发送数据的格式。

# 特点

1.基于TCP/IP协议的高级协议
2.默认端口号：80
3.基于请求/响应模型的：一次请求对应一次响应
4.无状态的：每次请求之间相互独立，不能交互数据

# 历史版本

目前有1.0、1.1、2.0、3.0 等版本

## 区别

**HTTP/1.0**：每一次请求都会建立新的连接，需要不停的建立释放连接，影响效率
**HTTP/1.1**：这是自1999年以来互联网上最常用的HTTP协议版本。HTTP/1.1引入了许多重要的改进，包括但不限于持久连接（keep-alive connections）、管道化处理（pipelining，尽管在实际中很少使用）、分块传输编码（chunked transfer encoding）以及对头部信息的缓存处理等。这些特性提高了网页加载效率，减少了延迟，复用连接，当一次请求完成后，该连接会等待一会儿，如果有请求就继续复用连接，如果没有就释放连接。
**HTTP/2**：发布于2015年，HTTP/2是HTTP/1.1的重大升级，旨在进一步提高网页性能。它引入了多路复用（multiplexing），允许在一个TCP连接上并行发送多个请求和响应，从而解决了HTTP/1.1中“队头阻塞”（head-of-line blocking）的问题。此外，HTTP/2还支持服务器推送（server push）、头部压缩（header compression）等机制，进一步优化了数据传输效率和速度。
**HTTP/3**：是HTTP协议的最新版本，基于QUIC（Quick UDP Internet Connections）协议，而不是传统的TCP。HTTP/3的设计目标主要是减少网络延迟，通过使用UDP来实现更高效的连接复用、更快的错误恢复以及更好的安全性（直接集成TLS 1.3）。HTTP/3已于2019年开始被一些主流浏览器和服务器支持，但相比HTTP/2，其普及程度目前仍然较低。

# 请求消息数据格式

## 概念

客户端发送给服务端的数据

1. 请求行
   格式：请求方式 请求url 请求协议/版本
   如：get /login.html http/1.1
   请求方式：
   HTTP协议有7种请求方式，常用的有两种：
   GET：
   1.请求参数在请求行中，在url后。
   2.请求的url有长度限制的。
   3.不太安全
   POST：
   1.请求参数在请求体中
   2.请求的url长度没有限制
   3.较为安全
2. 请求头：客户端浏览器告诉服务器一些信息
   格式：请求头名称 : 请求头值
   常见的请求头：
   1. Host：访问的域名
   2. User-Agent：浏览器告诉服务器，我访问你使用的浏览器版本信息。
   可以在服务器端获取该头的信息，解决浏览器的兼容性问题。
   3. Accept：告诉服务器你可以给我（浏览器）响应的数据格式。
   4. Accept-Language：告诉服务器我（浏览器）可以支持的语言环境。
   5. Accept-Encoding：告诉服务器我（浏览器）可以接收的压缩格式。
   6. Referer：告诉服务器我（当前请求）从哪里来
   作用：
   1.防盗链
   2.统计工作
3. 请求空行
   一个空行，分隔POST请求的请求头和请求体的
4. 请求体（正文）
   GET方法无请求体，封装POST请求消息的请求参数的，POST方法将参数放在请求体中，格式为：参数名=参数值

# 响应消息数据格式

## 概念

服务器端发送给客户端的数据

1. 响应行：
    1. 组成：协议/版本 响应状态码 状态码描述
       如：http/1.1 200 OK
    2. 响应状态码：服务器告诉客户端浏览器本次请求和响应的一个状态
        1. 状态码都是3位数字
        2. 分类：
            1. 1xx：服务器接受客户消息，但接受还没有完成，等待一段时间后，发送1xx多状态码
            2. 2xx：成功。代表：200
            3. 3xx：重定向。代表：302（重定向），304（访问客户端缓存）。
            4. 4xx：客户端错误。
               代表：
               404（请求路径没有对应的资源）。
               405（Servlet中请求方式没有对象的doXxx方法）。
            5. 5xx：服务器端错误。代表：500（服务器内部出现异常）。
2. 响应头
    1. 格式：头 : 名称。
    2. 常见的响应头：
        1. Content-Type：服务器告诉客户端本次响应体数据格式以及编码格式。
        2. Content-disposition：服务器告诉客户端以什么格式打开响应体数据。
           值：
           1. in-line：默认值，在当前页面打开。
           2. attachment;filename=xxx：以附件形式打开响应体。一般用于文件下载。
3. 响应空行
4. 响应体：传输的数据